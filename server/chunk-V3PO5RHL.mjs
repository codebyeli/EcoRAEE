import './polyfills.server.mjs';
import{a as A,b as Y,c as k,f as H}from"./chunk-V5HLQNSK.mjs";import{a as V,b as g,d as D,e as B,g as j,h as z,i as q,m as L,n as G,qa as J,ra as K}from"./chunk-2EOGU6FE.mjs";import"./chunk-QN4G4UWW.mjs";import{$b as N,Cb as R,Ea as n,F as P,Fa as t,Fb as I,L as S,M as h,Na as d,Xa as o,Ya as w,_b as T,ab as x,ac as O,ia as s,ja as b,ta as c,va as m}from"./chunk-Q7XQSINL.mjs";import{d as E}from"./chunk-5XUXGTUW.mjs";var W=()=>["/login"];function X(i,r){i&1&&(n(0,"p",24),o(1,"Debes introducir tu nombre"),t())}function Z(i,r){i&1&&(n(0,"p",24),o(1,"Debes introducir tu apellido"),t())}function $(i,r){i&1&&(n(0,"p",24),o(1,"Debes introducir un correo electr\xF3nico v\xE1lido"),t())}function ee(i,r){i&1&&(n(0,"p",24),o(1,"Debes introducir una fecha de nacimiento v\xE1lida"),t())}function te(i,r){i&1&&(n(0,"p",24),o(1,"Debes introducir un n\xFAmero de C\xE9dula v\xE1lido"),t())}function ne(i,r){i&1&&(n(0,"p",24),o(1,"Debes una contrase\xF1a con al menos 8 caracteres"),t())}function ie(i,r){i&1&&(n(0,"p",24),o(1," Amabas contrase\xF1as deben coincidir "),t())}function re(i,r){i&1&&(n(0,"p",24),o(1,"Debes una contrase\xF1a con al menos 8 caracteres"),t())}var M=class i{constructor(r,a,e,l){this.fb=r;this.loginService=a;this._snackBar=e;this.router=l}registerForm;passwordFieldType="password";confirmPasswordFieldType="password";openSnackBar(r,a){this._snackBar.open(r,a,{duration:2e3})}ngOnInit(){this.registerForm=this.fb.group({name:["",g.required],lastName:["",g.required],email:["",[g.required,Y]],birthday:["",g.required],username:["",[g.required,A]],password:["",[g.required,k]],confirmPassword:["",[g.required,k]]})}togglePasswordVisibility(){this.passwordFieldType=this.passwordFieldType==="password"?"text":"password"}toggleConfirmPasswordVisibility(){this.confirmPasswordFieldType=this.confirmPasswordFieldType==="password"?"text":"password"}formatID(r){let a=r.target,e=a.value.replace(/-/g,"");e.length>3&&(e=e.slice(0,3)+"-"+e.slice(3)),e.length>11&&(e=e.slice(0,11)+"-"+e.slice(11,12)),a.value=e,this.registerForm.get("username")?.setValue(e,{emitEvent:!1})}checkValidity(){let r=this.registerForm.get("name")?.valid,a=this.registerForm.get("lastName")?.valid,e=this.registerForm.get("email")?.valid,l=this.registerForm.get("birthday")?.valid,p=this.registerForm.get("username")?.valid,u=this.registerForm.get("password")?.valid,f=this.registerForm.get("password")?.value,_=this.registerForm.get("confirmPassword")?.value;return r&&a&&e&&l&&p&&u&&f===_}register(){if(this.registerForm.valid){let a=this.registerForm.value,r=a,{confirmPassword:e}=r,l=E(r,["confirmPassword"]);this.loginService.register(a).subscribe(p=>{this.router.navigate(["/dashboard",p._id])},p=>{this.openSnackBar("Esta c\xE9dula ya est\xE1 registrada","Cerrar")})}}static \u0275fac=function(a){return new(a||i)(b(L),b(H),b(J),b(T))};static \u0275cmp=S({type:i,selectors:[["app-register"]],decls:54,vars:16,consts:[[1,"login-container"],[1,"login-form"],[3,"formGroup"],[1,"form-group"],["for","name"],["type","text","id","name","formControlName","name","placeholder","Ingresa tu nombre",3,"input"],["class","error-message",4,"ngIf"],["for","lastName"],["type","text","id","lastName","formControlName","lastName","placeholder","Ingresa tu apellido",3,"input"],["for","email"],["type","email","id","email","formControlName","email","placeholder","Ingresa tu correo electr\xF3nico",3,"input"],["for","birthday"],["type","date","id","birthday","formControlName","birthday","placeholder","Ingresa tu fecha de nacimiento","min","1899-01-01","max","2000-01-01",3,"input"],["for","username"],["type","text","id","username","formControlName","username","placeholder","Ingresa tu C\xE9dula",3,"input"],["for","password"],[1,"password-container"],["id","password","formControlName","password","placeholder","Ingresa tu contrase\xF1a",3,"input","type"],["type","button",1,"toggle-password",3,"click"],[1,"material-icons"],["id","confirmPassword","formControlName","confirmPassword","placeholder","Confirma tu contrase\xF1a",3,"input","type"],[1,"submit-btn",3,"click","disabled"],[1,"links"],[1,"link",3,"routerLink"],[1,"error-message"]],template:function(a,e){if(a&1&&(n(0,"div",0)(1,"section",1)(2,"h1"),o(3,"Registrarse"),t(),n(4,"form",2)(5,"div",3)(6,"label",4),o(7,"Nombre"),t(),n(8,"input",5),d("input",function(){return e.checkValidity()}),t(),c(9,X,2,0,"p",6),t(),n(10,"div",3)(11,"label",7),o(12,"Apellido"),t(),n(13,"input",8),d("input",function(){return e.checkValidity()}),t(),c(14,Z,2,0,"p",6),t(),n(15,"div",3)(16,"label",9),o(17,"Email"),t(),n(18,"input",10),d("input",function(){return e.checkValidity()}),t(),c(19,$,2,0,"p",6),t(),n(20,"div",3)(21,"label",11),o(22,"Fecha de nacimiento"),t(),n(23,"input",12),d("input",function(){return e.checkValidity()}),t(),c(24,ee,2,0,"p",6),t(),n(25,"div",3)(26,"label",13),o(27,"C\xE9dula"),t(),n(28,"input",14),d("input",function(p){return e.checkValidity(),e.formatID(p)}),t(),c(29,te,2,0,"p",6),t(),n(30,"div",3)(31,"label",15),o(32,"Contrase\xF1a"),t(),n(33,"div",16)(34,"input",17),d("input",function(){return e.checkValidity()}),t(),n(35,"button",18),d("click",function(){return e.togglePasswordVisibility()}),n(36,"span",19),o(37),t()()(),c(38,ne,2,0,"p",6),t(),n(39,"div",3)(40,"label",15),o(41,"Confirma tu contrase\xF1a"),t(),n(42,"div",16)(43,"input",20),d("input",function(){return e.checkValidity()}),t(),n(44,"button",18),d("click",function(){return e.toggleConfirmPasswordVisibility()}),n(45,"span",19),o(46),t()()(),c(47,ie,2,0,"p",6)(48,re,2,0,"p",6),t(),n(49,"button",21),d("click",function(){return e.register()}),o(50,"Registrate"),t()(),n(51,"div",22)(52,"a",23),o(53,"\xBFYa tienes cuenta? Inicia sesi\xF3n"),t()()()()),a&2){let l,p,u,f,_,y,C,v;s(4),m("formGroup",e.registerForm),s(5),m("ngIf",((l=e.registerForm.get("name"))==null?null:l.dirty)&&!((l=e.registerForm.get("name"))!=null&&l.valid)),s(5),m("ngIf",((p=e.registerForm.get("lastName"))==null?null:p.dirty)&&!((p=e.registerForm.get("lastName"))!=null&&p.valid)),s(5),m("ngIf",((u=e.registerForm.get("email"))==null?null:u.dirty)&&!((u=e.registerForm.get("email"))!=null&&u.valid)),s(5),m("ngIf",((f=e.registerForm.get("birthday"))==null?null:f.touched)&&!((f=e.registerForm.get("birthday"))!=null&&f.valid)),s(5),m("ngIf",((_=e.registerForm.get("username"))==null?null:_.dirty)&&!((_=e.registerForm.get("username"))!=null&&_.valid)),s(5),m("type",e.passwordFieldType),s(3),w(e.passwordFieldType==="password"?"visibility":"visibility_off"),s(),m("ngIf",((y=e.registerForm.get("password"))==null?null:y.dirty)&&!((y=e.registerForm.get("password"))!=null&&y.valid)),s(5),m("type",e.confirmPasswordFieldType),s(3),w(e.confirmPasswordFieldType==="password"?"visibility":"visibility_off"),s(),m("ngIf",((C=e.registerForm.get("confirmPassword"))==null?null:C.dirty)&&!((C=e.registerForm.get("confirmPassword"))!=null&&C.valid)||!e.checkValidity()&&((C=e.registerForm.get("confirmPassword"))==null?null:C.dirty)),s(),m("ngIf",((v=e.registerForm.get("confirmPassword"))==null?null:v.dirty)&&!((v=e.registerForm.get("password"))!=null&&v.valid)),s(),m("disabled",!e.checkValidity()),s(3),m("routerLink",x(15,W))}},dependencies:[R,N,j,V,D,B,z,q],styles:[".login-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;min-height:100vh;background:url(/assets/hero-about-us.jpeg) no-repeat center;background-size:cover}.login-container[_ngcontent-%COMP%]   .login-form[_ngcontent-%COMP%]{background-color:#fff;padding:40px;border-radius:8px;box-shadow:0 4px 10px #0000001a;width:100%;max-width:400px;text-align:center}.login-container[_ngcontent-%COMP%]   .login-form[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#4caf50;font-size:2rem;margin-bottom:20px}.login-container[_ngcontent-%COMP%]   .login-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{margin-bottom:20px;text-align:left}.login-container[_ngcontent-%COMP%]   .login-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;font-size:1rem;color:#333;margin-bottom:5px}.login-container[_ngcontent-%COMP%]   .login-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;padding:12px;border:1px solid #ddd;border-radius:8px;font-size:1rem;margin-bottom:10px;box-sizing:border-box}.login-container[_ngcontent-%COMP%]   .login-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{border-color:#4caf50;outline:none}.login-container[_ngcontent-%COMP%]   .login-form[_ngcontent-%COMP%]   .submit-btn[_ngcontent-%COMP%]{background-color:#4caf50;color:#fff;padding:12px;font-size:1rem;border:none;border-radius:8px;cursor:pointer;width:100%;transition:background-color .3s ease}.login-container[_ngcontent-%COMP%]   .login-form[_ngcontent-%COMP%]   .submit-btn[_ngcontent-%COMP%]:hover{background-color:#3d8b40}.login-container[_ngcontent-%COMP%]   .login-form[_ngcontent-%COMP%]   .submit-btn[_ngcontent-%COMP%]:disabled{background-color:gray;color:#000;padding:12px;font-size:1rem;border:none;border-radius:8px;cursor:not-allowed;width:100%;transition:background-color .3s ease}.login-container[_ngcontent-%COMP%]   .login-form[_ngcontent-%COMP%]   .links[_ngcontent-%COMP%]{margin-top:15px}.login-container[_ngcontent-%COMP%]   .login-form[_ngcontent-%COMP%]   .links[_ngcontent-%COMP%]   .link[_ngcontent-%COMP%]{color:#4caf50;font-size:.9rem;text-decoration:none;display:block;margin-top:10px}.login-container[_ngcontent-%COMP%]   .login-form[_ngcontent-%COMP%]   .links[_ngcontent-%COMP%]   .link[_ngcontent-%COMP%]:hover{text-decoration:underline}.login-container[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%]{color:red}.login-container[_ngcontent-%COMP%]   .password-container[_ngcontent-%COMP%]{position:relative}.login-container[_ngcontent-%COMP%]   .password-container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:calc(100% - 40px);display:inline-block}.login-container[_ngcontent-%COMP%]   .password-container[_ngcontent-%COMP%]   .toggle-password[_ngcontent-%COMP%]{position:absolute;right:10px;top:50%;transform:translateY(-50%);background:none;border:none;cursor:pointer;padding:0;margin:0}.login-container[_ngcontent-%COMP%]   .password-container[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{font-size:24px;color:#333}"]})};var oe=[{path:"",component:M}],F=class i{static \u0275fac=function(a){return new(a||i)};static \u0275mod=h({type:i});static \u0275inj=P({imports:[O.forChild(oe),O]})};var U=class i{static \u0275fac=function(a){return new(a||i)};static \u0275mod=h({type:i});static \u0275inj=P({imports:[I,F,G,K]})};export{U as RegisterModule};
